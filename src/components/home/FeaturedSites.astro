---
import type { SiteFrontmatter } from "../../lib/types";
import { GLOBAL } from "../../lib/variables";
import Anchor from "../common/Anchor.astro";
import SiteSnippet from "../SiteSnippet.astro";

type Props = {
  featuredSites: Array<SiteFrontmatter>;
}

const { featuredSites } = Astro.props;
---

<div class="flex justify-between items-center w-full">
  <h2 class="text-3xl sm:text-3xl font-display leading-loose">{GLOBAL.sitesName}</h2>
  <Anchor url="/sites" class="text-base">{GLOBAL.viewAll}</Anchor>
</div>
<ul class="my-4">
  {
    (featuredSites.length === 0 && <p>{GLOBAL.noSites}</p>) ||
      featuredSites.map((project) => (
        <li>
          <SiteSnippet
            title={project.title}
            description={project.description}
            url={project.filename}
            githubUrl={project.githubUrl}
            liveUrl={project.liveUrl}
            tags={project.tags ?? []}
          />
        </li>
      ))
  }
</ul>